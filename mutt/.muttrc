set folder = ~/mail
set signature = "~/.mutt/sig"
set sig_on_top = yes

folder-hook "+gmail/*" "source ~/.mutt/gmail.muttrc"

source ~/.mutt/colors.muttrc
source ~/.mutt/sidebar.muttrc

set editor = "emacsclient -nw"
set use_from = yes

unset imap_passive
set imap_idle = yes
set imap_keepalive = 300

set certificate_file = ~/.mutt/certificates
set ssl_starttls = yes
set ssl_force_tls = yes

set sort_alias = alias
set reverse_alias
set delete
set quit

set strict_threads = "yes"
set sort = threads
set sort_aux = reverse-last-date-received
set uncollapse_jump
set pager_stop
set pager_index_lines=10
set menu_scroll
set smart_wrap
set tilde
set abort_nosubject = "yes"
unset markers

set query_command = "notmuch-addrlookup --mutt '%s'"

set mailcap_path="~/.mutt/mailcap"
auto_view text/html
alternative_order text/plain text/enriched text/html

set date_format = "%y-%m-%d at %H:%M"
set index_format = "%3C [%Z] %D %-15.15F %?M?(+%M)? %s"
set status_format = "-%r %v ---[ Folder: %f, Msgs: %m \
%?d? Del: %d?%?t? Tag: %t?%?l? %l? ]%?p?---- .: %p waiting to send :. ?--%>- (%P) ---"
folder-hook . 'exec first-entry'
folder-hook . 'exec collapse-all'

set sig_dashes
set edit_headers = "yes"
set fast_reply
set forward_format = "On %d, %n wrote:"
set reply_to
set reverse_name
set forward_quote

ignore *
unignore from: to: cc: date: subject:
hdr_order from: to: cc: date: subject:

set wait_key = "no"

bind index,pager \#      noop
bind index,pager g       noop
bind editor      <space> noop

bind pager       /      search
bind pager       <up>   previous-line
bind pager       <down> next-line
bind pager       k      previous-line
bind pager       j      next-line
bind pager       gg     top
bind pager       G      bottom
bind index       gg     first-entry
bind index       G      last-entry
bind pager       K      previous-undeleted
bind pager       J      next-undeleted
bind index       K      previous-unread
bind index       J      next-unread
bind index,pager R      group-reply
bind editor      <tab>  complete-query
bind index       !      flag-message
bind index       <tab>  collapse-thread
bind index       _      collapse-all

macro index       B       "<limit>~b " "search message bodies"
